{"version":3,"sources":["webpack:///webpack/bootstrap 8c6a74595cbc283fc141","webpack:///./examples/src/index.jsx","webpack:///external \"React\"","webpack:///external \"ReactDOM\"","webpack:///external \"ReactRouter\"","webpack:///./dist/react-cognito.js","webpack:///(webpack)/buildin/module.js","webpack:///external \"AmazonCognitoIdentity\"","webpack:///external \"AWSCognito\"","webpack:///external \"ReactRedux\"","webpack:///external \"Redux\"","webpack:///./examples/src/App.jsx","webpack:///./examples/src/Dashboard.jsx","webpack:///./examples/src/LogoutButton.jsx","webpack:///./examples/src/LoginForm.jsx","webpack:///./examples/src/EmailVerificationForm.jsx","webpack:///./examples/src/NewPasswordRequiredForm.jsx","webpack:///./examples/src/ConfirmForm.jsx","webpack:///./examples/src/ChangePasswordForm.jsx","webpack:///./examples/src/PasswordResetForm.jsx","webpack:///./examples/src/UpdateEmailForm.jsx","webpack:///./examples/src/RegisterForm.jsx","webpack:///./examples/config.json"],"names":["reducers","cognito","store","window","__REDUX_DEVTOOLS_EXTENSION__","state","getState","guard","changePassword","updateEmail","passwordReset","registerForm","render","loggedIn","document","getElementById","user","config","then","dispatch","webpackUniversalModuleDefinition","root","factory","exports","module","require","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_8__","__WEBPACK_EXTERNAL_MODULE_12__","__WEBPACK_EXTERNAL_MODULE_13__","modules","installedModules","__webpack_require__","moduleId","id","loaded","call","m","c","p","Object","defineProperty","value","_reducers","keys","forEach","key","enumerable","get","_actions","_states","_utils","_guard","_auth","_attributes","_policy","_Login","_Logout","_NewPasswordRequired","_EmailVerification","_PasswordReset","_Confirm","undefined","_amazonCognitoIdentityJs","initial","CognitoState","LOGGED_OUT","error","userPool","attributes","creds","region","clientId","identityPool","configure","action","AWSCognito","pool","CognitoUserPool","UserPoolId","ClientId","getCurrentUser","assign","addAttributes","s","s2","arguments","length","type","AUTHENTICATED","LOGGING_IN","LOGGED_IN","MFA_REQUIRED","NEW_PASSWORD_REQUIRED","CONFIRMATION_REQUIRED","EMAIL_VERIFICATION_REQUIRED","Action","authenticated","loggingIn","login","logout","loginFailure","mfaRequired","newPasswordRequired","newPasswordRequiredFailure","emailVerificationRequired","emailVerificationFailed","beginPasswordResetFlow","finishPasswordResetFlow","updateAttributes","confirmationRequired","oldPassword","newPassword","Promise","resolve","reject","err","result","message","buildLogins","username","jwtToken","loginDomain","loginUrl","IdentityPoolId","Logins","LoginId","testLoggedIn","wantLoggedIn","isLoggedIn","permitted","expr","forbiddenUrl","routeState","replace","callback","dest","allow","createGuard","emailVerificationFlow","registerUser","performLogin","authenticate","_awsCognitoSdk","sendAttributeVerificationCode","required","refreshIdentityCredentials","logins","CognitoIdentityCredentials","refresh","getSession","session","getIdToken","getJwtToken","getUsername","password","AuthenticationDetails","Username","Password","CognitoUser","Pool","authenticateUser","onSuccess","onFailure","code","signUp","mkAttrList","userConfirmed","getUserAttributes","attribute","getAttributeVerificationCode","inputVerificationCode","i","name","getName","getValue","map","Name","Value","attributeList","identityPoolLogin","fetchAttributes","direct","enable","setupCognito","f","subscribe","email_verified","Login","_react","_react2","_interopRequireDefault","_reactRedux","obj","__esModule","default","BaseLogin","props","cloneElement","children","onSubmit","mapStateToProps","mapDispatchToProps","authenticator","mergeProps","stateProps","dispatchProps","ownProps","connect","Logout","_createClass","defineProperties","target","descriptor","configurable","writable","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_React$Component","_ref","_temp","_this","_ret","_len","args","Array","_key","getPrototypeOf","apply","concat","onClick","event","context","signOut","preventDefault","onLogout","Component","contextTypes","PropTypes","object","propTypes","any","isRequired","func","defaultProps","NewPasswordRequired","BaseNewPasswordRequired","setNewPassword","userAttributes","completeNewPasswordChallenge","setNewPasswordPartial","EmailVerification","BaseEmailVerification","onCancel","verifyEmail","verificationCode","verifyAttribute","verifyPartial","PasswordReset","BasePasswordReset","sendVerificationCode","setPassword","getUser","confirmPassword","forgotPassword","sendVerificationCodePartial","setPasswordPartial","Confirm","BaseConfirm","onResend","confirm","confirmRegistration","confirmFailed","resend","resendConfirmationCode","confirmPartial","onResendPartial","App","loggedInPage","loggedOutPage","newPasswordPage","emailVerificationPage","confirmForm","mfaPage","BaseDashboard","LOGIN_FAILURE","string","Dashboard","LogoutButton","LoginForm","changeUsername","setState","EmailVerificationForm","changeVerificationCode","NewPasswordRequiredForm","ConfirmForm","ChangePasswordForm","changeOldPassword","changeNewPassword","PasswordResetForm","changeCode","UpdateEmailForm","componentWillMount","email","changeEmail","RegisterForm","router","push"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8c6a74595cbc283fc141","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Router, Link, Route, IndexRoute, browserHistory } from 'react-router';\nimport {\n  cognito,\n  createGuard,\n  PasswordReset,\n  performLogin,\n  setupCognito,\n} from 'react-cognito';\nimport { Provider } from 'react-redux';\nimport { createStore, combineReducers } from 'redux';\nimport App from './App';\nimport Dashboard from './Dashboard';\nimport ChangePasswordForm from './ChangePasswordForm';\nimport PasswordResetForm from './PasswordResetForm';\nimport UpdateEmailForm from './UpdateEmailForm';\nimport RegisterForm from './RegisterForm';\nimport config from '../config.json';\n\nconst reducers = combineReducers({\n  cognito,\n});\n\nconst store = createStore(\n  reducers,\n  // eslint-disable-next-line no-underscore-dangle\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\nsetupCognito(store, config);\n\n// this attempts to retrieve the user from local storage and establish\n// a new session for them\nconst state = store.getState();\n\nconst guard = createGuard(store, '/forbidden');\n\nconst changePassword = () => (\n  <div>\n    <ChangePasswordForm />\n    <Link to=\"/\">Home</Link>\n  </div>\n);\n\nconst updateEmail = () => (\n  <div>\n    <UpdateEmailForm />\n    <Link to=\"/\">Home</Link>\n  </div>\n);\n\nconst passwordReset = () => (\n  <PasswordReset>\n    <PasswordResetForm />\n  </PasswordReset>\n);\n\nconst registerForm = () => (\n  <div>\n    <p>Complete this form</p>\n    <RegisterForm />\n    <Link to=\"/\">Home</Link>\n  </div>\n);\n\nconst render = () => {\n  ReactDOM.render(\n    <Provider store={store}>\n      <Router history={browserHistory}>\n        <Route path=\"/\" component={App}>\n          <IndexRoute component={Dashboard} />\n          <Route\n            path=\"/change_password\"\n            component={changePassword}\n            onEnter={guard()}\n          />\n          <Route\n            path=\"/reset\"\n            component={passwordReset}\n            onEnter={guard({ loggedIn: false })}\n          />\n          <Route\n            path=\"/change_email\"\n            component={updateEmail}\n            onEnter={guard()}\n          />\n          <Route\n            path=\"/register\"\n            component={registerForm}\n            onEnter={guard({ loggedIn: false })}\n          />\n        </Route>\n      </Router>\n    </Provider>,\n    document.getElementById('app'),\n  );\n};\n\n// we defer rendering the application until we've fetched the user\n// from local storage and potentially updated their local state\nperformLogin(state.cognito.user, state.cognito.config).then(\n  store.dispatch, render).then(render);\n\n\n\n// WEBPACK FOOTER //\n// ./examples/src/index.jsx","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 1\n// module chunks = 0","module.exports = ReactDOM;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactDOM\"\n// module id = 2\n// module chunks = 0","module.exports = ReactRouter;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactRouter\"\n// module id = 3\n// module chunks = 0","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"amazon-cognito-identity-js\"), require(\"aws-cognito-sdk\"), require(\"react\"), require(\"react-redux\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"amazon-cognito-identity-js\", \"aws-cognito-sdk\", \"react\", \"react-redux\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactCognito\"] = factory(require(\"amazon-cognito-identity-js\"), require(\"aws-cognito-sdk\"), require(\"react\"), require(\"react-redux\"));\n\telse\n\t\troot[\"ReactCognito\"] = factory(root[\"AmazonCognitoIdentity\"], root[\"AWSCognito\"], root[\"React\"], root[\"ReactRedux\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_13__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _reducers = __webpack_require__(/*! ./reducers */ 1);\n\t\n\tObject.keys(_reducers).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _reducers[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _actions = __webpack_require__(/*! ./actions */ 4);\n\t\n\tObject.keys(_actions).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _actions[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _states = __webpack_require__(/*! ./states */ 3);\n\t\n\tObject.keys(_states).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _states[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _utils = __webpack_require__(/*! ./utils */ 5);\n\t\n\tObject.keys(_utils).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _utils[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _guard = __webpack_require__(/*! ./guard */ 6);\n\t\n\tObject.keys(_guard).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _guard[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _auth = __webpack_require__(/*! ./auth */ 7);\n\t\n\tObject.keys(_auth).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _auth[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _attributes = __webpack_require__(/*! ./attributes */ 9);\n\t\n\tObject.keys(_attributes).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _attributes[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _policy = __webpack_require__(/*! ./policy */ 10);\n\t\n\tObject.keys(_policy).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _policy[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _Login = __webpack_require__(/*! ./Login.jsx */ 11);\n\t\n\tObject.keys(_Login).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _Login[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _Logout = __webpack_require__(/*! ./Logout.jsx */ 14);\n\t\n\tObject.keys(_Logout).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _Logout[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _NewPasswordRequired = __webpack_require__(/*! ./NewPasswordRequired.jsx */ 15);\n\t\n\tObject.keys(_NewPasswordRequired).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _NewPasswordRequired[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _EmailVerification = __webpack_require__(/*! ./EmailVerification.jsx */ 16);\n\t\n\tObject.keys(_EmailVerification).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _EmailVerification[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _PasswordReset = __webpack_require__(/*! ./PasswordReset.jsx */ 17);\n\t\n\tObject.keys(_PasswordReset).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _PasswordReset[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _Confirm = __webpack_require__(/*! ./Confirm.jsx */ 18);\n\t\n\tObject.keys(_Confirm).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _Confirm[key];\n\t    }\n\t  });\n\t});\n\n/***/ },\n/* 1 */\n/*!*************************!*\\\n  !*** ./src/reducers.js ***!\n  \\*************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.cognito = undefined;\n\t\n\tvar _amazonCognitoIdentityJs = __webpack_require__(/*! amazon-cognito-identity-js */ 2);\n\t\n\tvar _states = __webpack_require__(/*! ./states */ 3);\n\t\n\t/* global AWSCognito */\n\t\n\tvar initial = {\n\t  user: null,\n\t  state: _states.CognitoState.LOGGED_OUT,\n\t  error: '',\n\t  userPool: null,\n\t  attributes: {},\n\t  creds: null,\n\t  config: {\n\t    region: null,\n\t    userPool: null,\n\t    clientId: null,\n\t    identityPool: null\n\t  }\n\t};\n\t\n\tvar configure = function configure(state, action) {\n\t  // surprise side-effect!\n\t  AWSCognito.config.region = action.config.region;\n\t  var pool = new _amazonCognitoIdentityJs.CognitoUserPool({\n\t    UserPoolId: action.config.userPool,\n\t    ClientId: action.config.clientId\n\t  });\n\t  var user = pool.getCurrentUser();\n\t  return Object.assign({}, state, {\n\t    config: action.config,\n\t    userPool: pool,\n\t    user: user\n\t  });\n\t};\n\t\n\t// sometimes we don't get the attributes in later parts of the login flow\n\t// but lets not clobber the ones we've got if we've not got them\n\tvar addAttributes = function addAttributes(s, attributes) {\n\t  var s2 = Object.assign({}, s);\n\t  if (attributes) {\n\t    s2.attributes = attributes;\n\t  }\n\t  return s2;\n\t};\n\t\n\t/**\n\t * reducer function to be passed to redux combineReducers\n\t * @param {object} state\n\t * @param {object} action\n\t*/\n\t\n\tvar cognito = exports.cognito = function cognito() {\n\t  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initial;\n\t  var action = arguments[1];\n\t\n\t  switch (action.type) {\n\t\n\t    case 'COGNITO_CONFIGURE':\n\t      return configure(state, action);\n\t\n\t    case 'COGNITO_AUTHENTICATED':\n\t      return Object.assign({}, state, {\n\t        user: action.user,\n\t        error: '',\n\t        state: _states.CognitoState.AUTHENTICATED\n\t      });\n\t\n\t    case 'COGNITO_LOGGING_IN':\n\t      return Object.assign({}, state, {\n\t        state: _states.CognitoState.LOGGING_IN,\n\t        attributes: action.attributes\n\t      });\n\t\n\t    case 'COGNITO_LOGIN':\n\t      return Object.assign({}, state, addAttributes({\n\t        error: '',\n\t        creds: action.creds,\n\t        state: _states.CognitoState.LOGGED_IN\n\t      }, action.attributes));\n\t\n\t    case 'COGNITO_LOGOUT':\n\t      return Object.assign({}, state, {\n\t        user: null,\n\t        error: '',\n\t        creds: null,\n\t        state: _states.CognitoState.LOGGED_OUT\n\t      });\n\t\n\t    case 'COGNITO_LOGIN_FAILURE':\n\t      return Object.assign({}, state, {\n\t        user: action.user,\n\t        state: _states.CognitoState.LOGGED_OUT,\n\t        error: action.error\n\t      });\n\t\n\t    case 'COGNITO_LOGIN_MFA_REQUIRED':\n\t      return Object.assign({}, state, {\n\t        user: action.user,\n\t        error: '',\n\t        state: _states.CognitoState.MFA_REQUIRED\n\t      });\n\t\n\t    case 'COGNITO_LOGIN_NEW_PASSWORD_REQUIRED':\n\t      return Object.assign({}, state, {\n\t        user: action.user,\n\t        error: '',\n\t        state: _states.CognitoState.NEW_PASSWORD_REQUIRED\n\t      });\n\t\n\t    case 'COGNITO_USER_UNCONFIRMED':\n\t      return Object.assign({}, state, {\n\t        user: action.user,\n\t        state: _states.CognitoState.CONFIRMATION_REQUIRED,\n\t        error: action.error\n\t      });\n\t\n\t    case 'COGNITO_NEW_PASSWORD_REQUIRED_FAILURE':\n\t      return Object.assign({}, state, {\n\t        error: action.error,\n\t        state: _states.CognitoState.NEW_PASSWORD_REQUIRED\n\t      });\n\t\n\t    case 'COGNITO_EMAIL_VERIFICATION_REQUIRED':\n\t      return Object.assign({}, state, addAttributes({\n\t        error: '',\n\t        state: _states.CognitoState.EMAIL_VERIFICATION_REQUIRED\n\t      }, action.attributes));\n\t\n\t    case 'COGNITO_EMAIL_VERIFICATION_FAILED':\n\t      return Object.assign({}, state, addAttributes({\n\t        error: action.error,\n\t        state: _states.CognitoState.EMAIL_VERIFICATION_REQUIRED\n\t      }, action.attributes));\n\t\n\t    case 'COGNITO_BEGIN_PASSWORD_RESET_FLOW':\n\t      return Object.assign({}, state, {\n\t        error: action.error\n\t      });\n\t\n\t    case 'COGNITO_FINISH_PASSWORD_RESET_FLOW':\n\t      return Object.assign({}, state, {\n\t        error: action.error\n\t      });\n\t\n\t    // this moves us into the AUTHENTICATED state, potentially causing\n\t    // a number of side-effects. this is so we can re-verify the email\n\t    // address if we have to\n\t    case 'COGNITO_UPDATE_USER_ATTRIBUTES':\n\t      return Object.assign({}, state, {\n\t        attributes: Object.assign({}, state.attributes, action.attributes),\n\t        state: _states.CognitoState.AUTHENTICATED\n\t      });\n\t\n\t    default:\n\t      return state;\n\t  }\n\t};\n\n/***/ },\n/* 2 */\n/*!*********************************************************************************************************************************************************************!*\\\n  !*** external {\"root\":\"AmazonCognitoIdentity\",\"commonjs2\":\"amazon-cognito-identity-js\",\"commonjs\":\"amazon-cognito-identity-js\",\"amd\":\"amazon-cognito-identity-js\"} ***!\n  \\*********************************************************************************************************************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */\n/*!***********************!*\\\n  !*** ./src/states.js ***!\n  \\***********************/\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\t/** states stored in store.cognito.state */\n\tvar CognitoState = exports.CognitoState = {\n\t  LOGGED_OUT: 'LOGGED_OUT',\n\t  AUTHENTICATED: 'AUTHENTICATED',\n\t  LOGGING_IN: 'LOGGING_IN',\n\t  LOGGED_IN: 'LOGGED_IN',\n\t  NEW_PASSWORD_REQUIRED: 'NEW_PASSWORD_REQUIRED',\n\t  MFA_REQUIRED: 'MFA_REQUIRED',\n\t  EMAIL_VERIFICATION_REQUIRED: 'EMAIL_VERIFICATION_REQUIRED',\n\t  CONFIRMATION_REQUIRED: 'CONFIRMATION_REQUIRED'\n\t};\n\n/***/ },\n/* 4 */\n/*!************************!*\\\n  !*** ./src/actions.js ***!\n  \\************************/\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\n\t * container for all the actions\n\t*/\n\tvar Action = {\n\t\n\t  configure: function configure(config) {\n\t    return {\n\t      type: 'COGNITO_CONFIGURE',\n\t      config: config\n\t    };\n\t  },\n\t\n\t  authenticated: function authenticated(user) {\n\t    return {\n\t      type: 'COGNITO_AUTHENTICATED',\n\t      user: user\n\t    };\n\t  },\n\t\n\t  loggingIn: function loggingIn(attributes) {\n\t    return {\n\t      type: 'COGNITO_LOGGING_IN',\n\t      attributes: attributes\n\t    };\n\t  },\n\t\n\t  login: function login(creds) {\n\t    return {\n\t      type: 'COGNITO_LOGIN',\n\t      creds: creds\n\t    };\n\t  },\n\t\n\t  logout: function logout() {\n\t    return {\n\t      type: 'COGNITO_LOGOUT'\n\t    };\n\t  },\n\t\n\t  loginFailure: function loginFailure(user, error) {\n\t    return {\n\t      type: 'COGNITO_LOGIN_FAILURE',\n\t      user: user,\n\t      error: error\n\t    };\n\t  },\n\t\n\t  mfaRequired: function mfaRequired(user) {\n\t    return {\n\t      type: 'COGNITO_LOGIN_MFA_REQUIRED',\n\t      user: user\n\t    };\n\t  },\n\t\n\t  newPasswordRequired: function newPasswordRequired(user) {\n\t    return {\n\t      type: 'COGNITO_LOGIN_NEW_PASSWORD_REQUIRED',\n\t      user: user\n\t    };\n\t  },\n\t\n\t  newPasswordRequiredFailure: function newPasswordRequiredFailure(user, error) {\n\t    return {\n\t      type: 'COGNITO_NEW_PASSWORD_REQUIRED_FAILURE',\n\t      user: user,\n\t      error: error\n\t    };\n\t  },\n\t\n\t  emailVerificationRequired: function emailVerificationRequired(attributes) {\n\t    return {\n\t      type: 'COGNITO_EMAIL_VERIFICATION_REQUIRED',\n\t      attributes: attributes\n\t    };\n\t  },\n\t\n\t  emailVerificationFailed: function emailVerificationFailed(error, attributes) {\n\t    return {\n\t      type: 'COGNITO_EMAIL_VERIFICATION_FAILED',\n\t      error: error,\n\t      attributes: attributes\n\t    };\n\t  },\n\t\n\t  beginPasswordResetFlow: function beginPasswordResetFlow(user, error) {\n\t    return {\n\t      type: 'COGNITO_BEGIN_PASSWORD_RESET_FLOW',\n\t      user: user,\n\t      error: error\n\t    };\n\t  },\n\t\n\t  finishPasswordResetFlow: function finishPasswordResetFlow(error) {\n\t    return {\n\t      type: 'COGNITO_FINISH_PASSWORD_RESET_FLOW',\n\t      error: error\n\t    };\n\t  },\n\t\n\t  updateAttributes: function updateAttributes(attributes) {\n\t    return {\n\t      type: 'COGNITO_UPDATE_USER_ATTRIBUTES',\n\t      attributes: attributes\n\t    };\n\t  },\n\t\n\t  confirmationRequired: function confirmationRequired(user, error) {\n\t    return {\n\t      type: 'COGNITO_USER_UNCONFIRMED',\n\t      user: user,\n\t      error: error\n\t    };\n\t  }\n\t\n\t};\n\t\n\texports.Action = Action;\n\n/***/ },\n/* 5 */\n/*!**********************!*\\\n  !*** ./src/utils.js ***!\n  \\**********************/\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\t/**\n\t * Change a user's password\n\t * @param {object} user - the cognito user object\n\t * @param {string} oldPassword - the current password\n\t * @param {string} newPassword - the new password\n\t*/\n\tvar changePassword = function changePassword(user, oldPassword, newPassword) {\n\t  return new Promise(function (resolve, reject) {\n\t    return user.changePassword(oldPassword, newPassword, function (err, result) {\n\t      if (err) {\n\t        reject(err.message);\n\t      } else {\n\t        resolve(result);\n\t      }\n\t    });\n\t  });\n\t};\n\t\n\t/**\n\t * builds the federated identity pool login structure\n\t * @param {string} username - the username of the user\n\t * @param {string} jwtToken - a JWT Token from the session\n\t * @param {object} config - the cognito react config object\n\t*/\n\tvar buildLogins = function buildLogins(username, jwtToken, config) {\n\t  var loginDomain = \"cognito-idp.\" + config.region + \".amazonaws.com\";\n\t  var loginUrl = loginDomain + \"/\" + config.userPool;\n\t  var creds = {\n\t    IdentityPoolId: config.identityPool,\n\t    Logins: {},\n\t    LoginId: username };\n\t  creds.Logins[loginUrl] = jwtToken;\n\t  return creds;\n\t};\n\t\n\texports.changePassword = changePassword;\n\texports.buildLogins = buildLogins;\n\n/***/ },\n/* 6 */\n/*!**********************!*\\\n  !*** ./src/guard.js ***!\n  \\**********************/\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\t/*\n\t Default behaviour is to restrict access to only logged in users\n\t*/\n\t\n\tvar testLoggedIn = function testLoggedIn(state, wantLoggedIn) {\n\t  var isLoggedIn = state.cognito.user !== null;\n\t  if (isLoggedIn && wantLoggedIn) {\n\t    return true;\n\t  }\n\t  if (!isLoggedIn && !wantLoggedIn) {\n\t    return true;\n\t  }\n\t  return false;\n\t};\n\t\n\tvar permitted = function permitted(state, expr) {\n\t  return new Promise(function (resolve) {\n\t    if (expr.loggedIn !== undefined) {\n\t      resolve(testLoggedIn(state, expr.loggedIn));\n\t    } else {\n\t      resolve(testLoggedIn(state, true));\n\t    }\n\t  });\n\t};\n\t\n\tvar guard = function guard(store, forbiddenUrl) {\n\t  var expr = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\t  var routeState = arguments[3];\n\t  var replace = arguments[4];\n\t  var callback = arguments[5];\n\t\n\t  var state = store.getState();\n\t  var dest = forbiddenUrl;\n\t\n\t  if (expr.forbiddenUrl !== undefined) {\n\t    dest = expr.forbiddenUrl;\n\t  }\n\t  permitted(state, expr).then(function (allow) {\n\t    if (!allow) {\n\t      replace(dest);\n\t    }\n\t    callback();\n\t  });\n\t};\n\t\n\t/**\n\t * creates a guard function you can use in <Route> tags\n\t * @param {object} store - the redux store\n\t * @param {string} forbiddenUrl - the default url to navigate to if forbidden\n\t * @returns {function} - a function that can be provided to onEnter\n\t*/\n\tvar createGuard = function createGuard(store, forbiddenUrl) {\n\t  return function (expr) {\n\t    return function (state, replace, callback) {\n\t      return guard(store, forbiddenUrl, expr, state, replace, callback);\n\t    };\n\t  };\n\t};\n\t\n\texports.createGuard = createGuard;\n\n/***/ },\n/* 7 */\n/*!*********************!*\\\n  !*** ./src/auth.js ***!\n  \\*********************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.emailVerificationFlow = exports.registerUser = exports.performLogin = exports.authenticate = undefined;\n\t\n\tvar _amazonCognitoIdentityJs = __webpack_require__(/*! amazon-cognito-identity-js */ 2);\n\t\n\tvar _awsCognitoSdk = __webpack_require__(/*! aws-cognito-sdk */ 8);\n\t\n\tvar _actions = __webpack_require__(/*! ./actions */ 4);\n\t\n\tvar _attributes = __webpack_require__(/*! ./attributes */ 9);\n\t\n\tvar _utils = __webpack_require__(/*! ./utils */ 5);\n\t\n\t/**\n\t * sends the email verification code and transitions to the correct state\n\t * @param {object} user - the CognitoUser object\n\t * @param {object} attributes - the attributes dictionary\n\t * @return {Promise<object>} a promise that resolves to a redux action\n\t*/\n\tvar emailVerificationFlow = function emailVerificationFlow(user, attributes) {\n\t  return new Promise(function (resolve) {\n\t    return (0, _attributes.sendAttributeVerificationCode)(user, 'email').then(function (required) {\n\t      if (required) {\n\t        resolve(_actions.Action.emailVerificationRequired(attributes));\n\t      } else {\n\t        // dead end?\n\t        resolve(_actions.Action.loggingIn(attributes));\n\t      }\n\t    }, function (error) {\n\t      // some odd classes of error here\n\t      resolve(_actions.Action.emailVerificationFailed(error, attributes));\n\t    });\n\t  });\n\t};\n\t\n\t/**\n\t * logs in to the federated identity pool with a JWT\n\t * @param {string} username - the username\n\t * @param {string} jwtToken - a token from the session\n\t * @param {object} config - the react-cognito config\n\t * @return {Promise<object>} a promise that resolves to the federated identity credentials\n\t*/\n\tvar refreshIdentityCredentials = function refreshIdentityCredentials(username, jwtToken, config) {\n\t  return new Promise(function (resolve, reject) {\n\t    var logins = (0, _utils.buildLogins)(username, jwtToken, config);\n\t    var creds = new _awsCognitoSdk.CognitoIdentityCredentials(logins);\n\t    creds.refresh(function (error) {\n\t      if (error) {\n\t        reject(error.message);\n\t      } else {\n\t        resolve(creds);\n\t      }\n\t    });\n\t  });\n\t};\n\t\n\t/**\n\t * establishes a session with the user pool, and logs into the federated identity\n\t * pool using a token from the session\n\t * @param {object} user - the CognitoUser object\n\t * @param {object} config -the react-cognito config\n\t * @return {Promise<object>} an action to be dispatched\n\t*/\n\tvar performLogin = function performLogin(user, config) {\n\t  return new Promise(function (resolve, reject) {\n\t    if (user != null) {\n\t      user.getSession(function (err, session) {\n\t        if (err) {\n\t          resolve(_actions.Action.loginFailure(user, err.message));\n\t        } else {\n\t          var jwtToken = session.getIdToken().getJwtToken();\n\t          var username = user.getUsername();\n\t          refreshIdentityCredentials(username, jwtToken, config).then(function (creds) {\n\t            return resolve(_actions.Action.login(creds));\n\t          }, function (message) {\n\t            return resolve(_actions.Action.loginFailure(user, message));\n\t          });\n\t        }\n\t      });\n\t    } else {\n\t      reject('user is null');\n\t    }\n\t  });\n\t};\n\t\n\t/**\n\t *\n\t * Authenticates with a user pool, and handles responses.\n\t * if the authentication is successful it then logs in to the\n\t * identity pool.\n\t *\n\t * returns an action depending on the outcome.  Possible actions returned\n\t * are:\n\t *\n\t * - login - valid user who is logged in\n\t * - loginFailure - failed to authenticate with user pool or identity pool\n\t * - mfaRequired - user now needs to enter MFA\n\t * - newPasswordRequired - user must change password on first login\n\t * - emailVerificationRequired - user must verify their email address\n\t * - emailVerificationFailed - email verification is required, but won't work\n\t *\n\t * Dispatch the resulting action, e.g.:\n\t *\n\t * ```\n\t * const { userPool, config } = state.cognito;\n\t * authenticate(username, password, userPool, config).then(dispatch);\n\t * ```\n\t *\n\t * @param {string} username - the username provided by the user\n\t * @param {string} password - the password provided by the user\n\t * @param {object} userPool - a Cognito User Pool object\n\t * @return {Promise<object>} - a promise that resolves an action to be dispatched\n\t *\n\t*/\n\tvar authenticate = function authenticate(username, password, userPool) {\n\t  return new Promise(function (resolve) {\n\t    var creds = new _amazonCognitoIdentityJs.AuthenticationDetails({\n\t      Username: username,\n\t      Password: password\n\t    });\n\t\n\t    var user = new _amazonCognitoIdentityJs.CognitoUser({\n\t      Username: username,\n\t      Pool: userPool\n\t    });\n\t\n\t    user.authenticateUser(creds, {\n\t      onSuccess: function onSuccess() {\n\t        return resolve(_actions.Action.authenticated(user));\n\t      },\n\t      onFailure: function onFailure(error) {\n\t        if (error.code === 'UserNotConfirmedException') {\n\t          resolve(_actions.Action.confirmationRequired(user));\n\t        } else {\n\t          resolve(_actions.Action.loginFailure(user, error.message));\n\t        }\n\t      },\n\t      mfaRequired: function mfaRequired() {\n\t        return resolve(_actions.Action.mfaRequired(user));\n\t      },\n\t      newPasswordRequired: function newPasswordRequired() {\n\t        return resolve(_actions.Action.newPasswordRequired(user));\n\t      }\n\t    });\n\t  });\n\t};\n\t\n\t/**\n\t * sign up this user with the user pool provided\n\t * @param {object} userPool - a Cognito userpool (e.g. state.cognito.userPool)\n\t * @param {object} config - the react-cognito config object\n\t * @param {string} username - the username\n\t * @param {string} password - the password\n\t * @param {object} attributes - an attributes dictionary\n\t * @return {Promise<object>} a promise that resolves a redux action\n\t*/\n\tvar registerUser = function registerUser(userPool, config, username, password, attributes) {\n\t  return new Promise(function (resolve, reject) {\n\t    return userPool.signUp(username, password, (0, _attributes.mkAttrList)(attributes), null, function (err, result) {\n\t      if (err) {\n\t        reject(err.message);\n\t      } else if (result.userConfirmed === false) {\n\t        resolve(_actions.Action.confirmationRequired(result.user));\n\t      } else {\n\t        resolve(authenticate(username, password, userPool));\n\t      }\n\t    });\n\t  });\n\t};\n\t\n\texports.authenticate = authenticate;\n\texports.performLogin = performLogin;\n\texports.registerUser = registerUser;\n\texports.emailVerificationFlow = emailVerificationFlow;\n\n/***/ },\n/* 8 */\n/*!*************************************************************************************************************************!*\\\n  !*** external {\"root\":\"AWSCognito\",\"commonjs\":\"aws-cognito-sdk\",\"commonjs2\":\"aws-cognito-sdk\",\"amd\":\"aws-cognito-sdk\"} ***!\n  \\*************************************************************************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n/***/ },\n/* 9 */\n/*!***************************!*\\\n  !*** ./src/attributes.js ***!\n  \\***************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.mkAttrList = exports.updateAttributes = exports.getUserAttributes = exports.sendAttributeVerificationCode = undefined;\n\t\n\tvar _actions = __webpack_require__(/*! ./actions */ 4);\n\t\n\t/**\n\t * Request that a verification code is sent by email or SMS to verify\n\t * an attribute\n\t * @param {object} user - the cognito user object\n\t * @param {string} attribute - the attribute name\n\t*/\n\tvar sendAttributeVerificationCode = function sendAttributeVerificationCode(user, attribute) {\n\t  return new Promise(function (resolve, reject) {\n\t    user.getAttributeVerificationCode(attribute, {\n\t      onSuccess: function onSuccess() {\n\t        return resolve(false);\n\t      },\n\t      inputVerificationCode: function inputVerificationCode() {\n\t        return resolve(true);\n\t      },\n\t      onFailure: function onFailure(error) {\n\t        return reject(error.message);\n\t      }\n\t    });\n\t  });\n\t};\n\t\n\t/**\n\t * Fetches the user attributes from Cognito, and turns them into\n\t * an object\n\t * @param {object} user - the cognito user object\n\t * @returns {Promise} resolves with the attributes or rejects with an error message\n\t*/\n\tvar getUserAttributes = function getUserAttributes(user) {\n\t  return new Promise(function (resolve, reject) {\n\t    return user.getUserAttributes(function (error, result) {\n\t      if (error) {\n\t        reject(error.message);\n\t      } else {\n\t        var attributes = {};\n\t        for (var i = 0; i < result.length; i += 1) {\n\t          var name = result[i].getName();\n\t          var value = result[i].getValue();\n\t          attributes[name] = value;\n\t        }\n\t        resolve(attributes);\n\t      }\n\t    });\n\t  });\n\t};\n\t\n\t/**\n\t * convert an attribute dictionary to an attribute list\n\t * @param {object} attributes - a dictionary of attributes\n\t * @return {array} AWS expected attribute list\n\t*/\n\tvar mkAttrList = function mkAttrList(attributes) {\n\t  return Object.keys(attributes).map(function (key) {\n\t    return {\n\t      Name: key,\n\t      Value: attributes[key]\n\t    };\n\t  });\n\t};\n\t\n\t/**\n\t * update the attributes in Cognito\n\t * @param {object} user - the CognitoUser object\n\t * @param {object} attributes - an attributes dictionary with the attributes to be updated\n\t * @return {Promise<object>} a promise that resolves to a redux action\n\t*/\n\tvar updateAttributes = function updateAttributes(user, attributes) {\n\t  return new Promise(function (resolve, reject) {\n\t    var attributeList = mkAttrList(attributes);\n\t    user.updateAttributes(attributeList, function (err) {\n\t      if (err) {\n\t        reject(err.message);\n\t      } else {\n\t        resolve(_actions.Action.updateAttributes(attributes));\n\t      }\n\t    });\n\t  });\n\t};\n\t\n\texports.sendAttributeVerificationCode = sendAttributeVerificationCode;\n\texports.getUserAttributes = getUserAttributes;\n\texports.updateAttributes = updateAttributes;\n\texports.mkAttrList = mkAttrList;\n\n/***/ },\n/* 10 */\n/*!***********************!*\\\n  !*** ./src/policy.js ***!\n  \\***********************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.identityPoolLogin = exports.emailVerificationRequired = exports.fetchAttributes = exports.direct = exports.enable = exports.setupCognito = undefined;\n\t\n\tvar _actions = __webpack_require__(/*! ./actions */ 4);\n\t\n\tvar _attributes = __webpack_require__(/*! ./attributes */ 9);\n\t\n\tvar _auth = __webpack_require__(/*! ./auth */ 7);\n\t\n\tvar _states = __webpack_require__(/*! ./states */ 3);\n\t\n\t/**\n\t * subscribes a \"policy\" function to the store, and calls it\n\t * with the state and the dispatch function\n\t * @param {object} store - the redux store\n\t * @param {function} f - f(state, dispatch)\n\t*/\n\tvar enable = function enable(store, f) {\n\t  store.subscribe(function () {\n\t    var state = store.getState();\n\t    var dispatch = store.dispatch;\n\t    f(state, dispatch);\n\t  });\n\t};\n\t\n\t/**\n\t * requires email verification before transitioning from AUTHENTICATED\n\t * @param {object} state - the redux store state\n\t * @param {function} dispatch - the dispatch function\n\t*/\n\tvar emailVerificationRequired = function emailVerificationRequired(state, dispatch) {\n\t  if (state.cognito.state === _states.CognitoState.AUTHENTICATED) {\n\t    (function () {\n\t      var user = state.cognito.user;\n\t      (0, _attributes.getUserAttributes)(user).then(function (attributes) {\n\t        if (attributes.email_verified !== 'true') {\n\t          (0, _auth.emailVerificationFlow)(user, attributes).then(dispatch);\n\t        } else {\n\t          dispatch(_actions.Action.loggingIn(attributes));\n\t        }\n\t      });\n\t    })();\n\t  }\n\t};\n\t\n\t/**\n\t * fetches and stores attributes before transitioning from AUTHENTICATED\n\t * @param {object} state - the redux store state\n\t * @param {function} dispatch - the dispatch function\n\t*/\n\tvar fetchAttributes = function fetchAttributes(state, dispatch) {\n\t  if (state.cognito.state === _states.CognitoState.AUTHENTICATED) {\n\t    var user = state.cognito.user;\n\t    (0, _attributes.getUserAttributes)(user).then(function (attributes) {\n\t      dispatch(_actions.Action.loggingIn(attributes));\n\t    });\n\t  }\n\t};\n\t\n\t/**\n\t * transitions directly from AUTHENTICATED to LOGGING_IN\n\t * @param {object} state - the redux store state\n\t * @param {function} dispatch - the dispatch function\n\t*/\n\tvar direct = function direct(state, dispatch) {\n\t  if (state.cognito.state === _states.CognitoState.AUTHENTICATED) {\n\t    dispatch(_actions.Action.loggingIn());\n\t  }\n\t};\n\t\n\t/**\n\t * logs into the single federated identity pool to transition from LOGGING_IN\n\t * to LOGGED_IN\n\t * @param {object} state - the redux store state\n\t * @param {function} dispatch - the dispatch function\n\t*/\n\tvar identityPoolLogin = function identityPoolLogin(state, dispatch) {\n\t  if (state.cognito.state === _states.CognitoState.LOGGING_IN) {\n\t    (0, _auth.performLogin)(state.cognito.user, state.cognito.config).then(dispatch);\n\t  }\n\t};\n\t\n\t/**\n\t * sets up react-cognito with default policies.\n\t*/\n\tvar setupCognito = function setupCognito(store, config) {\n\t  store.dispatch(_actions.Action.configure(config));\n\t  enable(store, emailVerificationRequired);\n\t  enable(store, identityPoolLogin);\n\t};\n\t\n\texports.setupCognito = setupCognito;\n\texports.enable = enable;\n\texports.direct = direct;\n\texports.fetchAttributes = fetchAttributes;\n\texports.emailVerificationRequired = emailVerificationRequired;\n\texports.identityPoolLogin = identityPoolLogin;\n\n/***/ },\n/* 11 */\n/*!***********************!*\\\n  !*** ./src/Login.jsx ***!\n  \\***********************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Login = undefined;\n\t\n\tvar _react = __webpack_require__(/*! react */ 12);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(/*! react-redux */ 13);\n\t\n\tvar _auth = __webpack_require__(/*! ./auth */ 7);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/* global AWSCognito */\n\t\n\tvar BaseLogin = function BaseLogin(props) {\n\t  return _react2.default.cloneElement(props.children, {\n\t    username: props.username,\n\t    error: props.error,\n\t    onSubmit: props.onSubmit\n\t  });\n\t};\n\t\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  var username = '';\n\t  if (state.cognito.user) {\n\t    username = state.cognito.user.getUsername();\n\t  }\n\t  return {\n\t    username: username,\n\t    error: state.cognito.error,\n\t    config: state.cognito.config,\n\t    userPool: state.cognito.userPool\n\t  };\n\t};\n\t\n\tvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n\t  return {\n\t    authenticator: function authenticator(username, password, userPool, config) {\n\t      (0, _auth.authenticate)(username, password, userPool, config).then(dispatch);\n\t    }\n\t  };\n\t};\n\t\n\tvar mergeProps = function mergeProps(stateProps, dispatchProps, ownProps) {\n\t  return Object.assign({}, ownProps, stateProps, {\n\t    onSubmit: function onSubmit(username, password) {\n\t      return dispatchProps.authenticator(username, password, stateProps.userPool, stateProps.config);\n\t    }\n\t  });\n\t};\n\t\n\tvar Login = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps, mergeProps)(BaseLogin);\n\t\n\texports.Login = Login;\n\n/***/ },\n/* 12 */\n/*!**************************************************************************************!*\\\n  !*** external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"} ***!\n  \\**************************************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n/***/ },\n/* 13 */\n/*!*************************************************************************************************************!*\\\n  !*** external {\"root\":\"ReactRedux\",\"commonjs\":\"react-redux\",\"commonjs2\":\"react-redux\",\"amd\":\"react-redux\"} ***!\n  \\*************************************************************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n/***/ },\n/* 14 */\n/*!************************!*\\\n  !*** ./src/Logout.jsx ***!\n  \\************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Logout = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(/*! react */ 12);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _actions = __webpack_require__(/*! ./actions */ 4);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Logout = exports.Logout = function (_React$Component) {\n\t  _inherits(Logout, _React$Component);\n\t\n\t  function Logout() {\n\t    var _ref;\n\t\n\t    var _temp, _this, _ret;\n\t\n\t    _classCallCheck(this, Logout);\n\t\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Logout.__proto__ || Object.getPrototypeOf(Logout)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function (event) {\n\t      var store = _this.context.store;\n\t\n\t      var state = store.getState();\n\t      state.cognito.user.signOut();\n\t      event.preventDefault();\n\t      store.dispatch(_actions.Action.logout());\n\t      _this.props.onLogout();\n\t    }, _temp), _possibleConstructorReturn(_this, _ret);\n\t  }\n\t\n\t  _createClass(Logout, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      return _react2.default.cloneElement(this.props.children, {\n\t        onClick: this.onClick\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return Logout;\n\t}(_react2.default.Component);\n\t\n\tLogout.contextTypes = {\n\t  store: _react.PropTypes.object\n\t};\n\tLogout.propTypes = {\n\t  children: _react2.default.PropTypes.any.isRequired,\n\t  onLogout: _react2.default.PropTypes.func\n\t};\n\tLogout.defaultProps = {\n\t  onLogout: function onLogout() {}\n\t};\n\n/***/ },\n/* 15 */\n/*!*************************************!*\\\n  !*** ./src/NewPasswordRequired.jsx ***!\n  \\*************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.NewPasswordRequired = undefined;\n\t\n\tvar _react = __webpack_require__(/*! react */ 12);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(/*! react-redux */ 13);\n\t\n\tvar _actions = __webpack_require__(/*! ./actions */ 4);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar BaseNewPasswordRequired = function BaseNewPasswordRequired(props) {\n\t  return _react2.default.cloneElement(props.children, {\n\t    error: props.error,\n\t    onSubmit: props.onSubmit\n\t  });\n\t};\n\t\n\tvar setNewPassword = function setNewPassword(password, user, config, userAttributes, dispatch) {\n\t  return user.completeNewPasswordChallenge(password, userAttributes, {\n\t    onSuccess: function onSuccess() {\n\t      return dispatch(_actions.Action.authenticated(user));\n\t    },\n\t    onFailure: function onFailure(error) {\n\t      return dispatch(_actions.Action.newPasswordRequiredFailure(user, error.message));\n\t    },\n\t    mfaRequired: function mfaRequired() {\n\t      return dispatch(_actions.Action.mfaRequired(user));\n\t    },\n\t    newPasswordRequired: function newPasswordRequired() {\n\t      return dispatch(_actions.Action.newPasswordRequired(user));\n\t    }\n\t  });\n\t};\n\t\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  return {\n\t    error: state.cognito.error,\n\t    user: state.cognito.user,\n\t    config: state.cognito.config\n\t  };\n\t};\n\t\n\tvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n\t  return {\n\t    setNewPasswordPartial: function setNewPasswordPartial(password, user, config, userAttributes) {\n\t      return setNewPassword(password, user, config, userAttributes, dispatch);\n\t    }\n\t  };\n\t};\n\t\n\tvar mergeProps = function mergeProps(stateProps, dispatchProps, ownProps) {\n\t  return Object.assign({}, ownProps, stateProps, {\n\t    onSubmit: function onSubmit(password, userAttributes) {\n\t      return dispatchProps.setNewPasswordPartial(password, stateProps.user, stateProps.config, userAttributes);\n\t    }\n\t  });\n\t};\n\t\n\tvar NewPasswordRequired = exports.NewPasswordRequired = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps, mergeProps)(BaseNewPasswordRequired);\n\n/***/ },\n/* 16 */\n/*!***********************************!*\\\n  !*** ./src/EmailVerification.jsx ***!\n  \\***********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.EmailVerification = undefined;\n\t\n\tvar _react = __webpack_require__(/*! react */ 12);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(/*! react-redux */ 13);\n\t\n\tvar _actions = __webpack_require__(/*! ./actions */ 4);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar BaseEmailVerification = function BaseEmailVerification(props) {\n\t  return _react2.default.cloneElement(props.children, {\n\t    error: props.error,\n\t    onSubmit: props.onSubmit,\n\t    onCancel: props.onCancel\n\t  });\n\t};\n\t\n\tvar verifyEmail = function verifyEmail(verificationCode, user, dispatch) {\n\t  return user.verifyAttribute('email', verificationCode, {\n\t    onSuccess: function onSuccess() {\n\t      return dispatch(_actions.Action.login(user));\n\t    },\n\t    inputVerificationCode: function inputVerificationCode() {\n\t      return dispatch(_actions.Action.emailVerificationRequired(user));\n\t    },\n\t    onFailure: function onFailure(error) {\n\t      return dispatch(_actions.Action.emailVerificationFailed(user, error.message));\n\t    }\n\t  });\n\t};\n\t\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  return {\n\t    error: state.cognito.error,\n\t    user: state.cognito.user\n\t  };\n\t};\n\t\n\tvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n\t  return {\n\t    verifyPartial: function verifyPartial(verificationCode, user) {\n\t      return verifyEmail(verificationCode, user, dispatch);\n\t    },\n\t    onCancel: function onCancel() {\n\t      return dispatch(_actions.Action.logout());\n\t    }\n\t  };\n\t};\n\t\n\tvar mergeProps = function mergeProps(stateProps, dispatchProps, ownProps) {\n\t  return Object.assign({}, ownProps, stateProps, dispatchProps, {\n\t    onSubmit: function onSubmit(verificationCode) {\n\t      return dispatchProps.verifyPartial(verificationCode, stateProps.user);\n\t    }\n\t  });\n\t};\n\t\n\tvar EmailVerification = exports.EmailVerification = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps, mergeProps)(BaseEmailVerification);\n\n/***/ },\n/* 17 */\n/*!*******************************!*\\\n  !*** ./src/PasswordReset.jsx ***!\n  \\*******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.PasswordReset = undefined;\n\t\n\tvar _react = __webpack_require__(/*! react */ 12);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(/*! react-redux */ 13);\n\t\n\tvar _amazonCognitoIdentityJs = __webpack_require__(/*! amazon-cognito-identity-js */ 2);\n\t\n\tvar _actions = __webpack_require__(/*! ./actions */ 4);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar BasePasswordReset = function BasePasswordReset(props) {\n\t  return _react2.default.cloneElement(props.children, {\n\t    error: props.error,\n\t    username: props.username,\n\t    sendVerificationCode: props.sendVerificationCode,\n\t    setPassword: props.setPassword\n\t  });\n\t};\n\t\n\tvar getUser = function getUser(username, userPool) {\n\t  var user = new _amazonCognitoIdentityJs.CognitoUser({\n\t    Username: username,\n\t    Pool: userPool\n\t  });\n\t  return user;\n\t};\n\t\n\tvar setPassword = function setPassword(username, userPool, code, password) {\n\t  return new Promise(function (resolve) {\n\t    var user = getUser(username, userPool);\n\t    user.confirmPassword(code, password, {\n\t      onSuccess: function onSuccess() {\n\t        return resolve(_actions.Action.finishPasswordResetFlow('Password reset'));\n\t      },\n\t      onFailure: function onFailure(err) {\n\t        return resolve(_actions.Action.beginPasswordResetFlow(user, err.message));\n\t      }\n\t    });\n\t  });\n\t};\n\t\n\tvar sendVerificationCode = function sendVerificationCode(username, userPool) {\n\t  return new Promise(function (resolve) {\n\t    var user = getUser(username, userPool);\n\t    user.forgotPassword({\n\t      onSuccess: function onSuccess() {\n\t        return resolve(_actions.Action.beginPasswordResetFlow(user, 'Verification code sent'));\n\t      },\n\t      onFailure: function onFailure(err) {\n\t        return resolve(_actions.Action.beginPasswordResetFlow(user, err.message));\n\t      }\n\t    });\n\t  });\n\t};\n\t\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  var props = {\n\t    error: state.cognito.error || '',\n\t    user: state.cognito.user,\n\t    username: '',\n\t    userPool: state.cognito.userPool\n\t  };\n\t  if (state.cognito.user != null) {\n\t    props.username = state.cognito.user.getUsername();\n\t  }\n\t  return props;\n\t};\n\t\n\tvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n\t  return {\n\t    sendVerificationCodePartial: function sendVerificationCodePartial(username, userPool) {\n\t      sendVerificationCode(username, userPool).then(dispatch);\n\t    },\n\t    setPasswordPartial: function setPasswordPartial(user, userPool, code, password) {\n\t      setPassword(user, userPool, code, password).then(dispatch);\n\t    }\n\t  };\n\t};\n\t\n\tvar mergeProps = function mergeProps(stateProps, dispatchProps, ownProps) {\n\t  return Object.assign({}, ownProps, stateProps, {\n\t    sendVerificationCode: function sendVerificationCode(username) {\n\t      return dispatchProps.sendVerificationCodePartial(username, stateProps.userPool);\n\t    },\n\t    setPassword: function setPassword(username, code, password) {\n\t      return dispatchProps.setPasswordPartial(username, stateProps.userPool, code, password);\n\t    }\n\t  });\n\t};\n\t\n\tvar PasswordReset = exports.PasswordReset = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps, mergeProps)(BasePasswordReset);\n\n/***/ },\n/* 18 */\n/*!*************************!*\\\n  !*** ./src/Confirm.jsx ***!\n  \\*************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Confirm = undefined;\n\t\n\tvar _react = __webpack_require__(/*! react */ 12);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(/*! react-redux */ 13);\n\t\n\tvar _actions = __webpack_require__(/*! ./actions */ 4);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar BaseConfirm = function BaseConfirm(props) {\n\t  return _react2.default.cloneElement(props.children, {\n\t    error: props.error,\n\t    onSubmit: props.onSubmit,\n\t    onResend: props.onResend,\n\t    onCancel: props.onCancel\n\t  });\n\t};\n\t\n\tvar confirm = function confirm(verificationCode, user, dispatch) {\n\t  user.confirmRegistration(verificationCode, true, function (error) {\n\t    if (error) {\n\t      dispatch(_actions.Action.confirmFailed(user, error.message));\n\t    } else {\n\t      dispatch(_actions.Action.logout());\n\t    }\n\t  });\n\t};\n\t\n\tvar resend = function resend(user, dispatch) {\n\t  return user.resendConfirmationCode(function (err) {\n\t    if (err) {\n\t      dispatch(_actions.Action.confirmationRequired(user, err.message));\n\t    } else {\n\t      dispatch(_actions.Action.confirmationRequired(user, 'Confirmation code resent'));\n\t    }\n\t  });\n\t};\n\t\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  return {\n\t    error: state.cognito.error,\n\t    user: state.cognito.user\n\t  };\n\t};\n\t\n\tvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n\t  return {\n\t    confirmPartial: function confirmPartial(verificationCode, user) {\n\t      return confirm(verificationCode, user, dispatch);\n\t    },\n\t    onCancel: function onCancel() {\n\t      return dispatch(_actions.Action.logout());\n\t    },\n\t    onResendPartial: function onResendPartial(user) {\n\t      return resend(user, dispatch);\n\t    }\n\t  };\n\t};\n\t\n\tvar mergeProps = function mergeProps(stateProps, dispatchProps, ownProps) {\n\t  return Object.assign({}, ownProps, stateProps, dispatchProps, {\n\t    onSubmit: function onSubmit(verificationCode) {\n\t      return dispatchProps.confirmPartial(verificationCode, stateProps.user);\n\t    },\n\t    onResend: function onResend() {\n\t      return dispatchProps.onResendPartial(stateProps.user);\n\t    }\n\t  });\n\t};\n\t\n\tvar Confirm = exports.Confirm = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps, mergeProps)(BaseConfirm);\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=react-cognito.js.map\n\n\n// WEBPACK FOOTER //\n// ./dist/react-cognito.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 5\n// module chunks = 0","module.exports = AmazonCognitoIdentity;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"AmazonCognitoIdentity\"\n// module id = 6\n// module chunks = 0","module.exports = AWSCognito;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"AWSCognito\"\n// module id = 7\n// module chunks = 0","module.exports = ReactRedux;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactRedux\"\n// module id = 8\n// module chunks = 0","module.exports = Redux;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Redux\"\n// module id = 9\n// module chunks = 0","import { PropTypes } from 'react';\n\nconst App = ({ children }) => (\n  children\n);\nApp.propTypes = {\n  children: PropTypes.any,\n};\n\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// ./examples/src/App.jsx","import React, { PropTypes } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router';\nimport {\n  CognitoState,\n  Logout,\n  Login,\n  NewPasswordRequired,\n  EmailVerification,\n  Confirm,\n} from 'react-cognito';\nimport LogoutButton from './LogoutButton';\nimport LoginForm from './LoginForm';\nimport EmailVerificationForm from './EmailVerificationForm';\nimport NewPasswordRequiredForm from './NewPasswordRequiredForm';\nimport ConfirmForm from './ConfirmForm';\n\nconst loggedInPage = (user, attributes) => (\n  <div>\n    <p>logged in as {user.getUsername()}</p>\n    <ul>\n      <li>\n        <Logout onLogout>\n          <LogoutButton />\n        </Logout>\n      </li>\n      <li><Link to=\"/change_password\">Change password</Link></li>\n      <li><Link to=\"/change_email\">Change email address</Link></li>\n    </ul>\n    <div>\n      <p>Attributes</p>\n      <table>\n        <thead>\n          <tr>\n            <td>Name</td>\n            <td>Value</td>\n          </tr>\n        </thead>\n        <tbody>\n          {Object.keys(attributes).map(name =>\n            <tr key={name}>\n              <td>{name}</td>\n              <td>{attributes[name]}</td>\n            </tr>,\n          )}\n        </tbody>\n      </table>\n    </div>\n  </div>\n);\n\nconst loggedOutPage = () => (\n  <div>\n    <p>not logged in</p>\n    <Login>\n      <LoginForm />\n    </Login>\n    <ul>\n      <li><Link to=\"/register\">Register</Link></li>\n      <li><Link to=\"/reset\">Password reset</Link></li>\n    </ul>\n  </div>\n);\n\nconst newPasswordPage = () => (\n  <div>\n    <p>New password required, since this is your first login</p>\n    <NewPasswordRequired>\n      <NewPasswordRequiredForm />\n    </NewPasswordRequired>\n  </div>\n);\n\nconst emailVerificationPage = () => (\n  <div>\n    <p>You must verify your email address.  Please check your email for a code</p>\n    <EmailVerification>\n      <EmailVerificationForm />\n    </EmailVerification>\n  </div>\n);\n\nconst confirmForm = () => (\n  <div>\n    <p>A confirmation code has been sent to your email address</p>\n    <Confirm>\n      <ConfirmForm />\n    </Confirm>\n    <Link to=\"/\">Home</Link>\n  </div>\n);\n\nconst mfaPage = () => (\n  <div>\n    <p>You need to enter an MFA, but this library does not yet support them.</p>\n  </div>\n);\n\nconst BaseDashboard = ({ state, user, attributes }) => {\n  switch (state) {\n    case CognitoState.LOGGED_IN:\n      return loggedInPage(user, attributes);\n    case CognitoState.AUTHENTICATED:\n    case CognitoState.LOGGING_IN:\n      return (\n        <div>\n          <img src=\"ajax-loader.gif\" />\n        </div>\n        )\n    case CognitoState.LOGGED_OUT:\n    case CognitoState.LOGIN_FAILURE:\n      return loggedOutPage();\n    case CognitoState.MFA_REQUIRED:\n      return mfaPage();\n    case CognitoState.NEW_PASSWORD_REQUIRED:\n      return newPasswordPage();\n    case CognitoState.EMAIL_VERIFICATION_REQUIRED:\n      return emailVerificationPage();\n    case CognitoState.CONFIRMATION_REQUIRED:\n      return confirmForm();\n    default:\n      return (\n        <div>\n          <p>Unrecognised cognito state</p>\n        </div>\n      );\n  }\n};\nBaseDashboard.propTypes = {\n  user: PropTypes.object,\n  attributes: PropTypes.object,\n  state: PropTypes.string,\n};\n\nconst mapStateToProps = state => ({\n  state: state.cognito.state,\n  user: state.cognito.user,\n  attributes: state.cognito.attributes,\n});\n\n\nconst Dashboard = connect(mapStateToProps, null)(BaseDashboard);\n\nexport default Dashboard;\n\n\n\n// WEBPACK FOOTER //\n// ./examples/src/Dashboard.jsx","import React, { PropTypes } from 'react';\n\nconst LogoutButton = ({ onClick }) => (\n  <button onClick={onClick}>Log out</button>\n);\nLogoutButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default LogoutButton;\n\n\n\n// WEBPACK FOOTER //\n// ./examples/src/LogoutButton.jsx","import React, { PropTypes } from 'react';\n\nclass LoginForm extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: props.username,\n      error: props.error,\n      password: '',\n    };\n  }\n\n  onSubmit = (event) => {\n    event.preventDefault();\n    this.props.onSubmit(this.state.username, this.state.password);\n  }\n\n  changeUsername = (event) => {\n    this.setState({ username: event.target.value });\n  }\n\n  changePassword = (event) => {\n    this.setState({ password: event.target.value });\n  }\n\n  render = () => (\n    <form onSubmit={this.onSubmit}>\n      <div>{this.props.error}</div>\n      <label>\n        Username\n        <input placeholder=\"Username\" value={this.state.username} onChange={this.changeUsername} required />\n      </label>\n      <label>\n        Password\n        <input placeholder=\"Password\" onChange={this.changePassword} type=\"password\" required />\n      </label>\n      <button type=\"submit\">Sign in</button>\n    </form>\n  )\n}\nLoginForm.propTypes = {\n  onSubmit: PropTypes.func,\n  username: PropTypes.string,\n  error: PropTypes.string,\n};\n\nexport default LoginForm;\n\n\n\n// WEBPACK FOOTER //\n// ./examples/src/LoginForm.jsx","import React, { PropTypes } from 'react';\n\nclass EmailVerificationForm extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: props.error,\n      verificationCode: '',\n    };\n  }\n\n  onSubmit = (event) => {\n    event.preventDefault();\n    this.props.onSubmit(this.state.verificationCode);\n  }\n\n  changeVerificationCode = (event) => {\n    this.setState({ verificationCode: event.target.value });\n  }\n\n  render = () => (\n    <form onSubmit={this.onSubmit}>\n      <div>{this.props.error}</div>\n      <label>\n        Verification Code\n        <input placeholder=\"code\" onChange={this.changeVerificationCode} required />\n      </label>\n      <button type=\"submit\">Submit</button>\n      <button type=\"button\" onClick={this.props.onCancel}>Cancel</button>\n    </form>\n  )\n}\nEmailVerificationForm.propTypes = {\n  onSubmit: PropTypes.func,\n  onCancel: PropTypes.func,\n  error: PropTypes.string,\n};\n\nexport default EmailVerificationForm;\n\n\n\n// WEBPACK FOOTER //\n// ./examples/src/EmailVerificationForm.jsx","import React, { PropTypes } from 'react';\n\nclass NewPasswordRequiredForm extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: props.error,\n      password: '',\n    };\n  }\n\n  onSubmit = (event) => {\n    event.preventDefault();\n    this.props.onSubmit(this.state.password);\n  }\n\n  changePassword = (event) => {\n    this.setState({ password: event.target.value });\n  }\n\n  render = () => (\n    <form onSubmit={this.onSubmit}>\n      <div>{this.props.error}</div>\n      <label>\n        Password\n        <input placeholder=\"new password\" onChange={this.changePassword} required />\n      </label>\n      <button type=\"submit\">Set new password</button>\n    </form>\n  )\n}\nNewPasswordRequiredForm.propTypes = {\n  onSubmit: PropTypes.func,\n  error: PropTypes.string,\n};\n\nexport default NewPasswordRequiredForm;\n\n\n\n// WEBPACK FOOTER //\n// ./examples/src/NewPasswordRequiredForm.jsx","import React, { PropTypes } from 'react';\n\nclass ConfirmForm extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: props.error,\n      verificationCode: '',\n    };\n  }\n\n  onSubmit = (event) => {\n    event.preventDefault();\n    this.props.onSubmit(this.state.verificationCode);\n  }\n\n  changeVerificationCode = (event) => {\n    this.setState({ verificationCode: event.target.value });\n  }\n\n  render = () => (\n    <form onSubmit={this.onSubmit}>\n      <div>{this.props.error}</div>\n      <label>\n        Verification Code\n        <input placeholder=\"code\" onChange={this.changeVerificationCode} required />\n      </label>\n      <button type=\"submit\">Submit</button>\n      <button type=\"button\" onClick={this.props.onResend}>Resend code</button>\n      <button type=\"button\" onClick={this.props.onCancel}>Cancel</button>\n\n    </form>\n  )\n}\nConfirmForm.propTypes = {\n  onSubmit: PropTypes.func,\n  onCancel: PropTypes.func,\n  onResend: PropTypes.func,\n  error: PropTypes.string,\n};\n\nexport default ConfirmForm;\n\n\n\n// WEBPACK FOOTER //\n// ./examples/src/ConfirmForm.jsx","import React, { PropTypes } from 'react';\nimport { changePassword } from 'react-cognito';\n\nclass ChangePasswordForm extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: '',\n      oldPassword: '',\n      newPassword: '',\n    };\n  }\n\n  onSubmit = (event) => {\n    const { store } = this.context;\n    const state = store.getState();\n    const user = state.cognito.user;\n    event.preventDefault();\n    changePassword(user, this.state.oldPassword, this.state.newPassword).then(\n      () => this.setState({ error: 'Password changed' }),\n      error => this.setState({ error }));\n  }\n\n  changeOldPassword = (event) => {\n    this.setState({ oldPassword: event.target.value });\n  }\n\n  changeNewPassword = (event) => {\n    this.setState({ newPassword: event.target.value });\n  }\n\n  render = () => (\n    <form onSubmit={this.onSubmit}>\n      <div>{this.state.error}</div>\n      <label>\n        Old Password\n        <input placeholder=\"old password\" onChange={this.changeOldPassword} required />\n      </label>\n      <label>\n        New Password\n        <input placeholder=\"new password\" onChange={this.changeNewPassword} required />\n      </label>\n      <button type=\"submit\">Set new password</button>\n    </form>\n  )\n}\nChangePasswordForm.contextTypes = {\n  store: PropTypes.object,\n};\n\nexport default ChangePasswordForm;\n\n\n\n// WEBPACK FOOTER //\n// ./examples/src/ChangePasswordForm.jsx","import React, { PropTypes } from 'react';\nimport { Link } from 'react-router';\n\nclass PasswordResetForm extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: props.username,\n      code: '',\n      password: '',\n    };\n  }\n\n  onSubmit = (event) => {\n    event.preventDefault();\n    this.props.setPassword(this.state.username, this.state.code, this.state.password);\n  }\n\n  sendVerificationCode = (event) => {\n    event.preventDefault();\n    this.props.sendVerificationCode(this.state.username);\n  }\n\n  changePassword = (event) => {\n    this.setState({ password: event.target.value });\n  }\n\n  changeCode = (event) => {\n    this.setState({ code: event.target.value });\n  }\n\n  changeUsername =(event) => {\n    this.setState({ username: event.target.value });\n  }\n\n  render = () => (\n    <div>\n      <div>{this.props.error}</div>\n      <form onSubmit={this.sendVerificationCode}>\n        <label>\n          Username\n          <input type=\"text\" placeholder=\"username\" value={this.state.username} onChange={this.changeUsername} required />\n        </label>\n        <button type=\"submit\">Send verification code</button>\n      </form>\n      <form onSubmit={this.onSubmit}>\n        <label>\n          Verification code\n          <input placeholder=\"code\" onChange={this.changeCode} required />\n        </label>\n        <label>\n          Password\n          <input placeholder=\"new password\" onChange={this.changePassword} required />\n        </label>\n        <button type=\"submit\">Set new password</button>\n      </form>\n      <Link to=\"/\">Home</Link>\n    </div>\n  )\n}\nPasswordResetForm.propTypes = {\n  error: PropTypes.string,\n  username: PropTypes.string,\n  sendVerificationCode: PropTypes.func,\n  setPassword: PropTypes.func,\n};\nexport default PasswordResetForm;\n\n\n\n// WEBPACK FOOTER //\n// ./examples/src/PasswordResetForm.jsx","import React, { PropTypes } from 'react';\nimport { updateAttributes } from 'react-cognito';\n\nclass UpdateEmailForm extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: '',\n      email: '',\n    };\n  }\n\n  componentWillMount = () => {\n    const { store } = this.context;\n    const state = store.getState();\n    this.setState({ email: state.cognito.attributes.email });\n  }\n\n  onSubmit = (event) => {\n    const { store } = this.context;\n    const state = store.getState();\n    const user = state.cognito.user;\n    const config = state.cognito.config;\n    event.preventDefault();\n    updateAttributes(user, {\n      email: this.state.email,\n    }, config).then(\n      (action) => {\n        store.dispatch(action);\n        this.setState({ error: 'email changed' });\n      },\n      error => this.setState({ error }),\n    );\n  }\n\n  changeEmail = (event) => {\n    this.setState({ email: event.target.value });\n  }\n\n  render = () => (\n    <form onSubmit={this.onSubmit}>\n      <div>{this.state.error}</div>\n      <label>\n        Email address\n        <input value={this.state.email} onChange={this.changeEmail} required />\n      </label>\n      <button type=\"submit\">Update</button>\n    </form>\n  )\n}\nUpdateEmailForm.contextTypes = {\n  store: PropTypes.object,\n};\n\nexport default UpdateEmailForm;\n\n\n\n// WEBPACK FOOTER //\n// ./examples/src/UpdateEmailForm.jsx","import React, { PropTypes } from 'react';\nimport { registerUser } from 'react-cognito';\n\nclass RegisterForm extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: '',\n      username: '',\n      password: '',\n      email: '',\n    };\n  }\n\n  onSubmit = (event) => {\n    const { store, router } = this.context;\n    const state = store.getState();\n    const userPool = state.cognito.userPool;\n    const config = state.cognito.config;\n    event.preventDefault();\n    registerUser(userPool, config, this.state.username, this.state.password, {\n      email: this.state.email,\n    }).then(\n      (action) => {\n        store.dispatch(action);\n        router.push('/');\n      },\n      error => this.setState({ error }));\n  }\n\n  changeUsername = (event) => {\n    this.setState({ username: event.target.value });\n  }\n\n  changePassword = (event) => {\n    this.setState({ password: event.target.value });\n  }\n\n  changeEmail = (event) => {\n    this.setState({ email: event.target.value });\n  }\n\n  render = () => (\n    <form onSubmit={this.onSubmit}>\n      <div>{this.state.error}</div>\n      <label>\n        Username\n        <input placeholder=\"username\" onChange={this.changeUsername} required />\n      </label>\n      <label>\n        Password\n        <input placeholder=\"password\" onChange={this.changePassword} required />\n      </label>\n      <label>\n        Email Address\n        <input placeholder=\"email\" type=\"email\" onChange={this.changeEmail} required />\n      </label>\n      <button type=\"submit\">Register</button>\n    </form>\n  )\n}\nRegisterForm.contextTypes = {\n  store: PropTypes.object,\n  router: PropTypes.object,\n};\n\nexport default RegisterForm;\n\n\n\n\n// WEBPACK FOOTER //\n// ./examples/src/RegisterForm.jsx","module.exports = {\n\t\"region\": \"eu-west-1\",\n\t\"userPool\": \"eu-west-1_4bpnxxQKX\",\n\t\"identityPool\": \"eu-west-1:3e151c70-ad45-4e36-8b87-f0125da6c13e\",\n\t\"clientId\": \"7oc1qboh1jldlrd929ksv7cgta\"\n};\n\n\n// WEBPACK FOOTER //\n// ./examples/config.json"],"sourceRoot":""}